# LLMLab Backend Environment Variables
# Copy to .env and fill in your values

# =============================================================================
# DATABASE (Required)
# =============================================================================
# PostgreSQL connection string
# Local:   postgresql://llmlab:llmlab@localhost:5432/llmlab
# Railway: Provided by Railway PostgreSQL add-on
DATABASE_URL=postgresql://user:password@host:5432/postgres

# =============================================================================
# SECURITY (Required)
# =============================================================================
# JWT secret key - generate with: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-change-this

# Fernet encryption key for API keys - generate with:
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-fernet-encryption-key

# =============================================================================
# GITHUB OAUTH (Required for auth)
# =============================================================================
# Create at: https://github.com/settings/developers
# Callback URL for local dev:  http://localhost:8000/auth/github/callback
# Callback URL for production: https://your-backend-url/auth/github/callback
GITHUB_CLIENT_ID=your-github-oauth-client-id
GITHUB_CLIENT_SECRET=your-github-oauth-client-secret
GITHUB_REDIRECT_URI=http://localhost:8000/auth/github/callback

# =============================================================================
# CORS (Required for frontend)
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,https://llmlab.dev

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================
# JWT token expiry in hours (default: 24)
JWT_EXPIRY_HOURS=24

# Rate limit per minute (default: 100)
RATE_LIMIT_PER_MINUTE=100

# Redis cache URL (optional — falls back to in-memory if not set)
# Local:   redis://localhost:6379/0
# Railway: Provided by Railway Redis add-on
# REDIS_URL=redis://localhost:6379/0

# Environment (development/production/test)
ENVIRONMENT=development

# =============================================================================
# DEPLOYMENT — Railway
# =============================================================================
# The following are set in Railway as environment variables:
#   DATABASE_URL        → auto-set by Railway PostgreSQL add-on
#   REDIS_URL           → auto-set by Railway Redis add-on
#   JWT_SECRET          → set in Railway variables
#   ENCRYPTION_KEY      → set in Railway variables
#   GITHUB_CLIENT_ID    → set in Railway variables
#   GITHUB_CLIENT_SECRET→ set in Railway variables
#   GITHUB_REDIRECT_URI → https://your-railway-url/auth/github/callback
#   CORS_ORIGINS        → https://your-vercel-domain.vercel.app
#   ENVIRONMENT         → production
